!function(a,b){b.fn.tagCloud=function(c){function n(a){return null!==String.prototype.match.call(a,/^\d+$/)}function o(a){return null!==String.prototype.match.call(a,/^[0-9a-f]+$/)}function q(a){var c,d,b=[];if(a.indexOf("#")>-1){if(4===a.length)for(c=0;3>c;c++)b[c]=(a.substr(c+1,1)+""+a.substr(c+1,1)).to10();else if(7===a.length)for(c=0;3>c;c++)b[c]=s(a.substr(2*c+1,2).to10())}else a.indexOf("rgb")>-1&&(d=a.match(/rgb.*\((\d*)\,(\d*)\,(\d*).*/),b=[d[1],d[2],d[3]]);for(c=0;3>c;c++)b[c]=s(b[c]);return b}function r(a,b){return~~(Math.random()*(b-a+1)+a)}function s(a,b,c,d){if(b=b||2,c=c||"0",a=String(a),a.length>=b)return String(a);for(var e=0,f=b-a.length;f>e;e++)a=d?a+""+c:c+""+a;return a}function t(a,b,d,e){var f,h;for(d=d||c.colorType,e=e||"1",f=[],h=0;3>h;h++)f[h]=s(r(~~a[h],~~b[h])).to10();return y(f,d,e)}function u(a,b){return a=a||c.minColor,b=b||c.maxColor,t(q(a),q(b))}function v(a,b,c){var d,e,f,g,h,i;return 0==b?d=e=f=c:(g=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+6*(b-a)*(2/3-c):a},h=.5>c?c*(1+b):c+b-c*b,i=2*c-h,d=g(i,h,a+1/3),e=g(i,h,a),f=g(i,h,a-1/3)),[Math.round(255*d),Math.round(255*e),Math.round(255*f)]}function w(a,b,c){var d,e,f,g,h,i;if(a/=255,b/=255,c/=255,d=Math.max(a,b,c),e=Math.min(a,b,c),h=(d+e)/2,d==e)f=g=0;else{switch(i=d-e,g=h>.5?i/(2-d-e):i/(d+e),d){case a:f=(b-c)/i+(c>b?6:0);break;case b:f=(c-a)/i+2;break;case c:f=(a-b)/i+4}f/=6}return[f,g,h]}function x(a,b,d){var e,f,g;return b=b||c.colorType,d=d||"1",e=q(a),f=w(e[0],e[1],e[2]),g=v(f[0],1*(f[1]/3),f[2]),y(g,b,d)}function y(a,d,e){switch(d=d||c.colorType,e=e||"1",b.isArray(a)||(a=q(a)),d){case 16:return"#"+s(a[0].to16())+s(a[1].to16())+s(a[2].to16());case"rgb":return"rgb("+a[0]+","+a[1]+","+a[2]+")";case"rgba":return"rgba("+a[0]+","+a[1]+","+a[2]+","+e+")"}}function z(a,b,d){var e,f,g;for(b=b||c.colorType,d=d||"1",e=[],f=q(a),g=0;3>g;g++)e[g]=s(255-f[g].to10());return y(e,b,d)}function B(a){if(3>=a)return a>1;if(0==a%2||0==a%3)return!1;for(var b=5;a>=b*b;b+=6)if(0==a%b||0==a%(b+2))return!1;return!0}function C(a){for(var b=0;B(a);)a--,b--;return{num:a,gap:b}}function D(a,b,c){for(var h,d=+a,e=+b,f=b;0!=e;)f=d%e,d=e,e=f;if(void 0!==c)for(;0!=c;)h=[Math.sqrt(d),d/2,d/3,d/5,d/7],d=Math.max.apply(null,h),c--;return d}function E(a,b,c,d){return a/c*b/c>=d}function F(a,b,d){var e=a-c.offset[1]-c.offset[3],f=b-c.offset[0]-c.offset[2];for(sm=0,sn=0,mP=C(e),nP=C(f),divistor=0,correct=0,divistor=D(mP.num,nP.num,correct),(mP.num/divistor>d||nP.num/divistor>d)&&(sm=e%200,sn=f%200,mP=C(e-sm),nP=C(f-sn),divistor=D(mP.num,nP.num,correct));!E(mP.num,nP.num,divistor,d);)divistor=D(mP.num,nP.num,++correct);return{rows:~~(nP.num/divistor),cols:~~(mP.num/divistor),w:divistor,l:mP.gap/2+c.offset[1]+sm/2,t:nP.gap/2+c.offset[0]+sn/2}}function G(a,b,c){for(var d=~~Math.sqrt(a*b);c>~~(a/d)*~~(b/d);)d--;return d}function H(a,b,d){var e=a-c.offset[1]-c.offset[3],f=b-c.offset[0]-c.offset[2],g=G(a,b,d),h={rows:~~(f/g),cols:~~(e/g),w:g};return h.l=c.offset[1]+(e-g*h.cols)/2,h.t=c.offset[0]+(f-g*h.rows)/2,h}function I(){var n,o,q,s,t,v,w,A,B,a=c.posRc=M(),b=Array.prototype.slice.call(a.pos),d=a.rc.rows,e=a.rc.cols,m=a.rc.w;for(n=0;j>n;n++)o=~~(Math.random()*b.length),q=0,q=(r(30,95)+Math.random())/100,(b[o].id<e||0===b[o].id%e||b[o].id%e+1===e||b[o].id>e*(d-1))&&(q>.4&&(q=.5*q),d>3&&e>3?q>.4&&(q=.5*q):(q>.8&&(q=.8*q),.35>q&&(q=1.5*q))),s=m*q,s<c.minSize&&(s=c.minSize+7*q),s>c.maxSize&&(s=c.maxSize-7*q),t=(m-s)*Math.random(),v=(m-s)*Math.random(),c.pos[n]={x:~~(b[o].x+t),y:~~(b[o].y+v),w:~~s,h:~~s,id:b[o].id},c.pos[n].bgColor=c.bgColor?c.bgColor:u(),w=i.eq(n),A=(c.pos[n].w-40)/w.text().length,A<c.minFontSize&&(A=c.minFontSize),c.pos[n].fontSize=~~A,c.pos[n].$el=w,c.pos[n].color=c.color?c.color:z(c.pos[n].bgColor),c.pos[n].bColor=l?y(x(c.pos[n].bgColor),16):y(x(c.pos[n].bgColor),"rgba",.7),B={"background-color":c.pos[n].bgColor,left:c.pos[n].x,top:c.pos[n].y,width:c.pos[n].w,height:c.pos[n].h,color:c.pos[n].color,"line-height":c.pos[n].h+"px",position:"absolute","font-size":c.pos[n].fontSize,overflow:"hidden",border:"0px solid "+c.pos[n].bColor},c.radius&&(B[p.css+"border-radius"]=c.radius,B["border-radius"]=c.radius),"one"===c.anim.name?(B["display"]="none",l&&(B["left"]=c.pos[n].x+c.pos[n].w/2,B["top"]=c.pos[n].y+c.pos[n].h/2,B["width"]=0,B["height"]=0,B["line-height"]=0,B["font-size"]=0)):"warp"===c.anim.name?(k.hide(),l&&k.css({width:"0%",height:"0%",top:"50%",left:"50%"})):(c.anim.name="bomb")&&(B["display"]="none",B["left"]=.5*g-c.pos[n].w/2,B["top"]=.5*h-c.pos[n].h/2,B["width"]=0,B["height"]=0,B["line-height"]=0,B["font-size"]=0),w.css(B).attr({list:n,pos:c.pos[n].id}),k.append(w),b.splice(o,1);f.append(k),f.removeClass("tag-cloud-printing").addClass("tag-cloud-printed")}function J(a){var d,e;switch(a.name){case"one":d=Array.prototype.slice.call(i),e=function(){var f,g,h,a=d.length;return 1>a?(m=!0,!1):(f=~~(Math.random()*d.length),g=b(d[f]),h=g.attr("list"),l?g.addClass("tag-cloud-anim tag-cloud-db").animate({left:c.pos[h].x,top:c.pos[h].y,width:c.pos[h].w,height:c.pos[h].h,lineHeight:c.pos[h].h+"px",fontSize:c.pos[h].fontSize},c.anim.time,"easeOutBack"):g.addClass("tag-cloud-anim tag-cloud-anim-scale tag-cloud-db"),d.splice(f,1),setTimeout(function(){e()},c.anim.delay),void 0)},e();break;case"bomb":d=Array.prototype.slice.call(i),e=function(){var f,g,h,a=d.length;return 1>a?(m=!0,!1):(f=~~(Math.random()*d.length),g=b(d[f]),h=g.attr("list"),g.addClass("tag-cloud-anim tag-cloud-db").animate({left:c.pos[h].x,top:c.pos[h].y,width:c.pos[h].w,height:c.pos[h].h,lineHeight:c.pos[h].h+"px",fontSize:c.pos[h].fontSize},c.anim.time,"easeOutBack"),d.splice(f,1),setTimeout(function(){e()},c.anim.delay),void 0)},e();break;case"warp":setTimeout(function(){l?k.addClass("tag-cloud-anim tag-cloud-db").animate({width:"100%",height:"100%",top:"0%",left:"0%"},c.anim.time,"easeOutBack"):k.addClass("tag-cloud-anim tag-cloud-anim-scale tag-cloud-db"),m=!0},c.anim.delay)}}function K(){var a='<style type="text/css" id="tag-cloud-style">.tag-cloud-db{display:block!important;}.tag-cloud{position:relative;overflow:hidden}.tag-cloud .tag-cloud-debug{position:absolute;width:100%;height:100%;z-index:1;left:0;top:0;'+p.css+"box-sizing: border-box;box-sizing: border-box;}.tag-cloud .tag-cloud-debug span{position:absolute;border:#fff 1px solid;"+p.css+"box-sizing: border-box;box-sizing: border-box;}.tag-cloud .tag-cloud-warp{position:absolute;width:100%;height:100%;z-index:2;left:0;top:0;overflow:hidden;}.tag-cloud ."+c.currentClass+"{z-index:777;}.tag-cloud-anim-scale{"+p.css+"animation:tag-cloud-anim-scale "+c.anim.time+"ms;}@"+p.css+"keyframes tag-cloud-anim-scale{0%{ "+p.css+"transform:scale(0)}100%{"+p.css+"transform:scale(1);}}.tag-cloud .tag-cloud-warp.tag-cloud-warp-hover>*{"+p.css+"transition: opacity .3s;opacity: .4!important;filter:alpha(opacity=40)!important;}.tag-cloud .tag-cloud-warp.tag-cloud-warp-hover ."+c.currentClass+"{"+p.css+"transition:opacity 0s;opacity:1!important;filter:alpha(opacity=100)!important;  }</style>";b("head").prepend(a)}function L(){k.on("mouseenter",">*",function(){var a,d,e,f,i,j,k,l,n,o,q;return m?(a=b(this),d=a.attr("list"),e=a.attr("pos"),f=c.pos[d],i=c.posRc,void 0===f.cw&&(j=i.rc.w>c.maxSize?c.maxSize:i.rc.w,k=1.3*j,l=f.x-(k-f.w)/2,n=f.y-(k-f.h)/2,15>l&&(l=15),l+k>g-15&&(l=g-k-15),15>n&&(n=15),n+k>h-15&&(n=h-k-15),f.cx=l,f.cy=n,f.cw=k,f.ch=k,f.fs=.9*((f.cw-40)/a.text().length)),f.fs<c.minFontSize&&(f.fs=f.minFontSize),o={left:f.cx,top:f.cy,width:f.cw,height:f.ch,"line-height":f.ch+"px","font-size":f.fs,"border-width":5},q={},q[p.css+"box-shadow"]=f.bgColor+" 0 0 11px 3px",q["box-shadow"]=f.bColor+" 0 0 11px 3px",a.stop().fadeTo(0,1).animate(o,300,"easeOutBack",function(){}).addClass(c.currentClass).css(q).parent().addClass("tag-cloud-warp-hover"),c.enter.call(this,b.extend(!0,{},c.pos[d]),d,e,b.extend(!0,{},c)),void 0):!1}),k.on("mouseleave",">*",function(){var a,d,e,f,h,i;return m?(a=b(this),d=a.attr("list"),e=a.attr("pos"),f=c.pos[d],c.posRc,h={left:f.x,top:f.y,width:f.w,height:f.h,"line-height":f.h+"px","font-size":f.fontSize,"border-width":0},i={},i[p.css+"box-shadow"]=f.bgColor+" 0 0 0 0",i["box-shadow"]=f.bgColor+" 0 0 0 0",a.stop().fadeTo(0,1).animate(h,200,"easeInOutBack",function(){a.removeClass(c.currentClass)}).css(i).parent().removeClass("tag-cloud-warp-hover"),c.leave.call(this,b.extend(!0,{},c.pos[d]),d,e,b.extend(!0,{},c)),void 0):!1})}function M(){var a,b,d,e,i,k;for(a="divisor"===c.method?F(g,h,j):H(g,h,j),b='<div class="tag-cloud-debug">',d=[],e=0;e<a.rows;e++)for(i=0;i<a.cols;i++)k=e*a.cols+i,d[k]={x:i*a.w+a.l,y:e*a.w+a.t,id:k},b+='<span style="width:'+a.w+"px;height:"+a.w+"px;left:"+d[k].x+"px;top:"+d[k].y+'px;">'+k+"</span>";return b+="</div>",c.debug&&f.prepend(b),{rc:a,pos:d}}function N(){var a=b.extend(!0,{},c);c.start.call(e,a),c.printing.call(e,a),f.addClass("tag-cloud-printing").empty(),K(),I(),c.printed.call(e,a),L(),c.addEvented.call(e,a),J(c.anim),c.animed.call(e,a),c.complate.call(e,a)}var e,f,g,h,i,j,k,l,m,p,d={minColor:"#333",maxColor:"#eee",minSize:40,maxSize:150,minFontSize:12,currentClass:"tag-cloud-enter",debug:!1,offset:[0,0,0,0],radius:"50%",colorType:16,anim:{name:"bomb",time:"500",delay:"50"},bgColor:"",color:"",enter:function(){},leave:function(){},start:function(){},printing:function(){},printed:function(){},addEvented:function(){},animed:function(){},complate:function(){}};c=b.extend(d,c),e=this,f=b(e),g=f.width(),h=f.height(),i=f.children(),j=i.length,c.pos=[],c.posRc=[],k=b("<div/>").addClass("tag-cloud-warp"),l=/msie [6|7|8|9]/i.test(navigator.userAgent),m=!1,b.extend(jQuery.easing,{easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;return 0==b?c:1==(b/=e)?c+d:(g||(g=.3*e),h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h),h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c)},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c}}),Number.prototype.to10=String.prototype.to10=function(){return n(this)?this.toString(10):o(this)?parseInt(this,16).toString(10):void 0},Number.prototype.to16=String.prototype.to16=function(){return n(this)?parseInt(this,10).toString(16):o(this)?this.toString(16):void 0},Array.prototype.slices=function(a){for(var b=a.length,c=b-1;c>=0;c--)this.splice(a[c],1)},p=l?"":function(){var b=a.getComputedStyle(document.documentElement,""),c=(Array.prototype.slice.call(b).join("").match(/-(moz|webkit|ms)-/)||""===b.OLink&&["","o"])[1],d="WebKit|Moz|MS|O".match(new RegExp("("+c+")","i"))[1];return{dom:d,lowercase:c,css:"-"+c+"-",js:c[0].toUpperCase()+c.substr(1)}}(),N()}}(window,jQuery);